<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/salesforce/tough-cookie"

    >tough-cookie (v2.3.2)</a>
</h1>
<h4>RFC6265 Cookies and Cookie Jar for node.js</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie">module tough-cookie</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie">
            function <span class="apidocSignatureSpan">tough-cookie.</span>Cookie
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar">
            function <span class="apidocSignatureSpan">tough-cookie.</span>CookieJar
            <span class="apidocSignatureSpan">(store, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore">
            function <span class="apidocSignatureSpan">tough-cookie.</span>MemoryCookieStore
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store">
            function <span class="apidocSignatureSpan">tough-cookie.</span>Store
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.canonicalDomain">
            function <span class="apidocSignatureSpan">tough-cookie.</span>canonicalDomain
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.cookieCompare">
            function <span class="apidocSignatureSpan">tough-cookie.</span>cookieCompare
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.defaultPath">
            function <span class="apidocSignatureSpan">tough-cookie.</span>defaultPath
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.domainMatch">
            function <span class="apidocSignatureSpan">tough-cookie.</span>domainMatch
            <span class="apidocSignatureSpan">(str, domStr, canonicalize)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.formatDate">
            function <span class="apidocSignatureSpan">tough-cookie.</span>formatDate
            <span class="apidocSignatureSpan">(date)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.fromJSON">
            function <span class="apidocSignatureSpan">tough-cookie.</span>fromJSON
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.getPublicSuffix">
            function <span class="apidocSignatureSpan">tough-cookie.</span>getPublicSuffix
            <span class="apidocSignatureSpan">(domain)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.parse">
            function <span class="apidocSignatureSpan">tough-cookie.</span>parse
            <span class="apidocSignatureSpan">(str, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.parseDate">
            function <span class="apidocSignatureSpan">tough-cookie.</span>parseDate
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.pathMatch">
            function <span class="apidocSignatureSpan">tough-cookie.</span>pathMatch
            <span class="apidocSignatureSpan">(reqPath, cookiePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.permuteDomain">
            function <span class="apidocSignatureSpan">tough-cookie.</span>permuteDomain
            <span class="apidocSignatureSpan">(domain)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.permutePath">
            function <span class="apidocSignatureSpan">tough-cookie.</span>permutePath
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.</span>Cookie.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.</span>CookieJar.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.</span>MemoryCookieStore.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.</span>Store.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.</span>memstore</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.</span>pubsuffix</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.</span>store</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.Cookie">module tough-cookie.Cookie</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.Cookie">
            function <span class="apidocSignatureSpan">tough-cookie.</span>Cookie
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.fromJSON">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.</span>fromJSON
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.parse">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.</span>parse
            <span class="apidocSignatureSpan">(str, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">tough-cookie.Cookie.</span>cookiesCreated</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.</span>serializableProperties</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.Cookie.prototype">module tough-cookie.Cookie.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>httpOnly</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>secure</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.TTL">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>TTL
            <span class="apidocSignatureSpan">(now)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.canonicalizedDomain">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>canonicalizedDomain
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.cdomain">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>cdomain
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.clone">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.cookieString">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>cookieString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.expiryDate">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>expiryDate
            <span class="apidocSignatureSpan">(now)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.expiryTime">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>expiryTime
            <span class="apidocSignatureSpan">(now)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.inspect">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.isPersistent">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>isPersistent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.setExpires">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>setExpires
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.setMaxAge">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>setMaxAge
            <span class="apidocSignatureSpan">(age)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.toJSON">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.toString">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Cookie.prototype.validate">
            function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>validate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>creation</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>domain</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>extensions</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>hostOnly</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>lastAccessed</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>maxAge</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>path</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>pathIsDefault</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>expires</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>key</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>value</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.CookieJar">module tough-cookie.CookieJar</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.CookieJar">
            function <span class="apidocSignatureSpan">tough-cookie.</span>CookieJar
            <span class="apidocSignatureSpan">(store, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.deserialize">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.</span>deserialize
            <span class="apidocSignatureSpan">(strOrObj, store, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.deserializeSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.</span>deserializeSync
            <span class="apidocSignatureSpan">(strOrObj, store)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.fromJSON">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.</span>fromJSON
            <span class="apidocSignatureSpan">(strOrObj, store)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.CookieJar.prototype">module tough-cookie.CookieJar.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>enableLooseMode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>rejectPublicSuffixes</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype._importCookies">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>_importCookies
            <span class="apidocSignatureSpan">(serialized, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype._importCookiesSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>_importCookiesSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.clone">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>clone
            <span class="apidocSignatureSpan">(newStore, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.cloneSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>cloneSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookieString">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookieString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookieStringSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookieStringSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookies">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookies
            <span class="apidocSignatureSpan">(url, options, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookiesSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookiesSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.getSetCookieStrings">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getSetCookieStrings
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.getSetCookieStringsSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getSetCookieStringsSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.serialize">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>serialize
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.serializeSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>serializeSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.setCookie">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>setCookie
            <span class="apidocSignatureSpan">(cookie, url, options, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.setCookieSync">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>setCookieSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.CookieJar.prototype.toJSON">
            function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>store</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.MemoryCookieStore">module tough-cookie.MemoryCookieStore</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.MemoryCookieStore">
            function <span class="apidocSignatureSpan">tough-cookie.</span>MemoryCookieStore
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.super_">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.MemoryCookieStore.prototype">module tough-cookie.MemoryCookieStore.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>synchronous</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.findCookie">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>findCookie
            <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.findCookies">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>findCookies
            <span class="apidocSignatureSpan">(domain, path, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.getAllCookies">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>getAllCookies
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.inspect">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.putCookie">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>putCookie
            <span class="apidocSignatureSpan">(cookie, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.removeCookie">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>removeCookie
            <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.removeCookies">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>removeCookies
            <span class="apidocSignatureSpan">(domain, path, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.updateCookie">
            function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>updateCookie
            <span class="apidocSignatureSpan">(oldCookie, newCookie, cb)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>idx</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.Store">module tough-cookie.Store</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.Store">
            function <span class="apidocSignatureSpan">tough-cookie.</span>Store
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.Store.prototype">module tough-cookie.Store.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>synchronous</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.prototype.findCookie">
            function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>findCookie
            <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.prototype.findCookies">
            function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>findCookies
            <span class="apidocSignatureSpan">(domain, path, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.prototype.getAllCookies">
            function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>getAllCookies
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.prototype.putCookie">
            function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>putCookie
            <span class="apidocSignatureSpan">(cookie, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.prototype.removeCookie">
            function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>removeCookie
            <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.prototype.removeCookies">
            function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>removeCookies
            <span class="apidocSignatureSpan">(domain, path, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.Store.prototype.updateCookie">
            function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>updateCookie
            <span class="apidocSignatureSpan">(oldCookie, newCookie, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.memstore">module tough-cookie.memstore</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.memstore.MemoryCookieStore">
            function <span class="apidocSignatureSpan">tough-cookie.memstore.</span>MemoryCookieStore
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.pathMatch">module tough-cookie.pathMatch</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.pathMatch.pathMatch">
            function <span class="apidocSignatureSpan">tough-cookie.</span>pathMatch
            <span class="apidocSignatureSpan">(reqPath, cookiePath)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.permuteDomain">module tough-cookie.permuteDomain</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.permuteDomain.permuteDomain">
            function <span class="apidocSignatureSpan">tough-cookie.</span>permuteDomain
            <span class="apidocSignatureSpan">(domain)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.pubsuffix">module tough-cookie.pubsuffix</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.pubsuffix.getPublicSuffix">
            function <span class="apidocSignatureSpan">tough-cookie.pubsuffix.</span>getPublicSuffix
            <span class="apidocSignatureSpan">(domain)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tough-cookie.pubsuffix.</span>index</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tough-cookie.store">module tough-cookie.store</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tough-cookie.store.Store">
            function <span class="apidocSignatureSpan">tough-cookie.store.</span>Store
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie" id="apidoc.module.tough-cookie">module tough-cookie</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie" id="apidoc.element.tough-cookie.Cookie">
        function <span class="apidocSignatureSpan">tough-cookie.</span>Cookie
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Cookie(options) {
  options = options || {};

  Object.keys(options).forEach(function(prop) {
    if (Cookie.prototype.hasOwnProperty(prop) &#x26;&#x26;
        Cookie.prototype[prop] !== options[prop] &#x26;&#x26;
        prop.substr(0,1) !== &#x27;_&#x27;)
    {
      this[prop] = options[prop];
    }
  }, this);

  this.creation = this.creation || new Date();

  // used to break creation ties in cookieCompare():
  Object.defineProperty(this, &#x27;creationIndex&#x27;, {
    configurable: false,
    enumerable: false, // important for assert.deepEqual checks
    writable: true,
    value: ++Cookie.cookiesCreated
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar" id="apidoc.element.tough-cookie.CookieJar">
        function <span class="apidocSignatureSpan">tough-cookie.</span>CookieJar
        <span class="apidocSignatureSpan">(store, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CookieJar(store, options) {
  if (typeof options === &#x22;boolean&#x22;) {
    options = {rejectPublicSuffixes: options};
  } else if (options == null) {
    options = {};
  }
  if (options.rejectPublicSuffixes != null) {
    this.rejectPublicSuffixes = options.rejectPublicSuffixes;
  }
  if (options.looseMode != null) {
    this.enableLooseMode = options.looseMode;
  }

  if (!store) {
    store = new MemoryCookieStore();
  }
  this.store = store;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore" id="apidoc.element.tough-cookie.MemoryCookieStore">
        function <span class="apidocSignatureSpan">tough-cookie.</span>MemoryCookieStore
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemoryCookieStore() {
  Store.call(this);
  this.idx = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Store" id="apidoc.element.tough-cookie.Store">
        function <span class="apidocSignatureSpan">tough-cookie.</span>Store
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Store() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.canonicalDomain" id="apidoc.element.tough-cookie.canonicalDomain">
        function <span class="apidocSignatureSpan">tough-cookie.</span>canonicalDomain
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canonicalDomain(str) {
  if (str == null) {
    return null;
  }
  str = str.trim().replace(/^\./,&#x27;&#x27;); // S4.1.2.3 &#x26; S5.2.3: ignore leading .

  // convert to IDN if any non-ASCII characters
  if (punycode &#x26;&#x26; /[^\u0001-\u007f]/.test(str)) {
    str = punycode.toASCII(str);
  }

  return str.toLowerCase();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.cookieCompare" id="apidoc.element.tough-cookie.cookieCompare">
        function <span class="apidocSignatureSpan">tough-cookie.</span>cookieCompare
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function cookieCompare(a, b) {
  var cmp = 0;

  // descending for length: b CMP a
  var aPathLen = a.path ? a.path.length : 0;
  var bPathLen = b.path ? b.path.length : 0;
  cmp = bPathLen - aPathLen;
  if (cmp !== 0) {
    return cmp;
  }

  // ascending for time: a CMP b
  var aTime = a.creation ? a.creation.getTime() : MAX_TIME;
  var bTime = b.creation ? b.creation.getTime() : MAX_TIME;
  cmp = aTime - bTime;
  if (cmp !== 0) {
    return cmp;
  }

  // break ties for the same millisecond (precision of JavaScript&#x27;s clock)
  cmp = a.creationIndex - b.creationIndex;

  return cmp;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.defaultPath" id="apidoc.element.tough-cookie.defaultPath">
        function <span class="apidocSignatureSpan">tough-cookie.</span>defaultPath
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defaultPath(path) {
  // &#x22;2. If the uri-path is empty or if the first character of the uri-path is not
  // a %x2F (&#x22;/&#x22;) character, output %x2F (&#x22;/&#x22;) and skip the remaining steps.
  if (!path || path.substr(0,1) !== &#x22;/&#x22;) {
    return &#x22;/&#x22;;
  }

  // &#x22;3. If the uri-path contains no more than one %x2F (&#x22;/&#x22;) character, output
  // %x2F (&#x22;/&#x22;) and skip the remaining step.&#x22;
  if (path === &#x22;/&#x22;) {
    return path;
  }

  var rightSlash = path.lastIndexOf(&#x22;/&#x22;);
  if (rightSlash === 0) {
    return &#x22;/&#x22;;
  }

  // &#x22;4. Output the characters of the uri-path from the first character up to,
  // but not including, the right-most %x2F (&#x22;/&#x22;).&#x22;
  return path.slice(0, rightSlash);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.domainMatch" id="apidoc.element.tough-cookie.domainMatch">
        function <span class="apidocSignatureSpan">tough-cookie.</span>domainMatch
        <span class="apidocSignatureSpan">(str, domStr, canonicalize)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function domainMatch(str, domStr, canonicalize) {
  if (str == null || domStr == null) {
    return null;
  }
  if (canonicalize !== false) {
    str = canonicalDomain(str);
    domStr = canonicalDomain(domStr);
  }

<span class="apidocCodeCommentSpan">  /*
   * &#x22;The domain string and the string are identical. (Note that both the
   * domain string and the string will have been canonicalized to lower case at
   * this point)&#x22;
   */
</span>  if (str == domStr) {
    return true;
  }

  /* &#x22;All of the following [three] conditions hold:&#x22; (order adjusted from the RFC) */

  /* &#x22;* The string is a host name (i.e., not an IP address).&#x22; */
  if (net.isIP(str)) {
    return false;
  }

  /* &#x22;* The domain string is a suffix of the string&#x22; */
  var idx = str.indexOf(domStr);
  if (idx &#x3c;= 0) {
    return false; // it&#x27;s a non-match (-1) or prefix (0)
  }

  // e.g &#x22;a.b.c&#x22;.indexOf(&#x22;b.c&#x22;) === 2
  // 5 === 3+2
  if (str.length !== domStr.length + idx) { // it&#x27;s not a suffix
    return false;
  }

  /* &#x22;* The last character of the string that is not included in the domain
  * string is a %x2E (&#x22;.&#x22;) character.&#x22; */
  if (str.substr(idx-1,1) !== &#x27;.&#x27;) {
    return false;
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.formatDate" id="apidoc.element.tough-cookie.formatDate">
        function <span class="apidocSignatureSpan">tough-cookie.</span>formatDate
        <span class="apidocSignatureSpan">(date)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function formatDate(date) {
  var d = date.getUTCDate(); d = d &#x3e;= 10 ? d : &#x27;0&#x27;+d;
  var h = date.getUTCHours(); h = h &#x3e;= 10 ? h : &#x27;0&#x27;+h;
  var m = date.getUTCMinutes(); m = m &#x3e;= 10 ? m : &#x27;0&#x27;+m;
  var s = date.getUTCSeconds(); s = s &#x3e;= 10 ? s : &#x27;0&#x27;+s;
  return NUM_TO_DAY[date.getUTCDay()] + &#x27;, &#x27; +
    d+&#x27; &#x27;+ NUM_TO_MONTH[date.getUTCMonth()] +&#x27; &#x27;+ date.getUTCFullYear() +&#x27; &#x27;+
    h+&#x27;:&#x27;+m+&#x27;:&#x27;+s+&#x27; GMT&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.fromJSON" id="apidoc.element.tough-cookie.fromJSON">
        function <span class="apidocSignatureSpan">tough-cookie.</span>fromJSON
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function fromJSON(str) {
  if (!str) {
    return null;
  }

  var obj;
  if (typeof str === &#x27;string&#x27;) {
    obj = jsonParse(str);
    if (obj instanceof Error) {
      return null;
    }
  } else {
    // assume it&#x27;s an Object
    obj = str;
  }

  var c = new Cookie();
  for (var i=0; i&#x3c;Cookie.serializableProperties.length; i++) {
    var prop = Cookie.serializableProperties[i];
    if (obj[prop] === undefined ||
        obj[prop] === Cookie.prototype[prop])
    {
      continue; // leave as prototype default
    }

    if (prop === &#x27;expires&#x27; ||
        prop === &#x27;creation&#x27; ||
        prop === &#x27;lastAccessed&#x27;)
    {
      if (obj[prop] === null) {
        c[prop] = null;
      } else {
        c[prop] = obj[prop] == &#x22;Infinity&#x22; ?
          &#x22;Infinity&#x22; : new Date(obj[prop]);
      }
    } else {
      c[prop] = obj[prop];
    }
  }

  return c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.getPublicSuffix" id="apidoc.element.tough-cookie.getPublicSuffix">
        function <span class="apidocSignatureSpan">tough-cookie.</span>getPublicSuffix
        <span class="apidocSignatureSpan">(domain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getPublicSuffix(domain) {
<span class="apidocCodeCommentSpan">  /*!
   * Copyright (c) 2015, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &#x22;AS IS&#x22;
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   */
</span>  if (!domain) {
    return null;
  }
  if (domain.match(/^\./)) {
    return null;
  }
  var asciiDomain = punycode.toASCII(domain);
  var converted = false;
  if (asciiDomain !== domain) {
    domain = asciiDomain;
    converted = true;
  }
  if (index[domain]) {
    return null;
  }

  domain = domain.toLowerCase();
  var parts = domain.split(&#x27;.&#x27;).reverse();

  var suffix = &#x27;&#x27;;
  var suffixLen = 0;
  for (var i=0; i&#x3c;parts.length; i++) {
    var part = parts[i];
    var starstr = &#x27;*&#x27;+suffix;
    var partstr = part+suffix;

    if (index[starstr]) { // star rule matches
      suffixLen = i+1;
      if (index[partstr] === false) { // exception rule matches (NB: false, not undefined)
        suffixLen--;
      }
    } else if (index[partstr]) { // exact match, not exception
      suffixLen = i+1;
    }

    suffix = &#x27;.&#x27;+partstr;
  }

  if (index[&#x27;*&#x27;+suffix]) { // *.domain exists (e.g. *.kyoto.jp for domain=&#x27;kyoto.jp&#x27;);
    return null;
  }

  suffixLen = suffixLen || 1;
  if (parts.length &#x3e; suffixLen) {
    var publicSuffix = parts.slice(0,suffixLen+1).reverse().join(&#x27;.&#x27;);
    return converted ? punycode.toUnicode(publicSuffix) : publicSuffix;
  }

  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
&#x22;use strict&#x22;;
var pubsuffix = require(&#x27;./pubsuffix&#x27;);

// Gives the permutation of all possible domainMatch()es of a given domain. The
// array is in shortest-to-longest order.  Handy for indexing.
function permuteDomain (domain) {
var pubSuf = pubsuffix.<span class="apidocCodeKeywordSpan">getPublicSuffix</span>(domain);
if (!pubSuf) {
  return null;
}
if (pubSuf == domain) {
  return [domain];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.parse" id="apidoc.element.tough-cookie.parse">
        function <span class="apidocSignatureSpan">tough-cookie.</span>parse
        <span class="apidocSignatureSpan">(str, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parse(str, options) {
  if (!options || typeof options !== &#x27;object&#x27;) {
    options = {};
  }
  str = str.trim();

  // We use a regex to parse the &#x22;name-value-pair&#x22; part of S5.2
  var firstSemi = str.indexOf(&#x27;;&#x27;); // S5.2 step 1
  var pairRe = options.loose ? LOOSE_COOKIE_PAIR : COOKIE_PAIR;
  var result = pairRe.exec(firstSemi === -1 ? str : str.substr(0,firstSemi));

  // Rx satisfies the &#x22;the name string is empty&#x22; and &#x22;lacks a %x3D (&#x22;=&#x22;)&#x22;
  // constraints as well as trimming any whitespace.
  if (!result) {
    return;
  }

  var c = new Cookie();
  if (result[1]) {
    c.key = result[2].trim();
  } else {
    c.key = &#x27;&#x27;;
  }
  c.value = result[3].trim();
  if (CONTROL_CHARS.test(c.key) || CONTROL_CHARS.test(c.value)) {
    return;
  }

  if (firstSemi === -1) {
    return c;
  }

  // S5.2.3 &#x22;unparsed-attributes consist of the remainder of the set-cookie-string
  // (including the %x3B (&#x22;;&#x22;) in question).&#x22; plus later on in the same section
  // &#x22;discard the first &#x22;;&#x22; and trim&#x22;.
  var unparsed = str.slice(firstSemi + 1).trim();

  // &#x22;If the unparsed-attributes string is empty, skip the rest of these
  // steps.&#x22;
  if (unparsed.length === 0) {
    return c;
  }

<span class="apidocCodeCommentSpan">  /*
   * S5.2 says that when looping over the items &#x22;[p]rocess the attribute-name
   * and attribute-value according to the requirements in the following
   * subsections&#x22; for every item.  Plus, for many of the individual attributes
   * in S5.3 it says to use the &#x22;attribute-value of the last attribute in the
   * cookie-attribute-list&#x22;.  Therefore, in this implementation, we overwrite
   * the previous value.
   */
</span>  var cookie_avs = unparsed.split(&#x27;;&#x27;);
  while (cookie_avs.length) {
    var av = cookie_avs.shift().trim();
    if (av.length === 0) { // happens if &#x22;;;&#x22; appears
      continue;
    }
    var av_sep = av.indexOf(&#x27;=&#x27;);
    var av_key, av_value;

    if (av_sep === -1) {
      av_key = av;
      av_value = null;
    } else {
      av_key = av.substr(0,av_sep);
      av_value = av.substr(av_sep+1);
    }

    av_key = av_key.trim().toLowerCase();

    if (av_value) {
      av_value = av_value.trim();
    }

    switch(av_key) {
    case &#x27;expires&#x27;: // S5.2.1
      if (av_value) {
        var exp = parseDate(av_value);
        // &#x22;If the attribute-value failed to parse as a cookie date, ignore the
        // cookie-av.&#x22;
        if (exp) {
          // over and underflow not realistically a concern: V8&#x27;s getTime() seems to
          // store something larger than a 32-bit time_t (even with 32-bit node)
          c.expires = exp;
        }
      }
      break;

    case &#x27;max-age&#x27;: // S5.2.2
      if (av_value) {
        // &#x22;If the first character of the attribute-value is not a DIGIT or a &#x22;-&#x22;
        // character ...[or]... If the remainder of attribute-value contains a
        // non-DIGIT character, ignore the cookie-av.&#x22;
        if (/^-?[0-9]+$/.test(av_value)) {
          var delta = parseInt(av_value, 10);
          // &#x22;If delta-seconds is less than or equal to zero (0), let expiry-time
          // be the earliest representable date and time.&#x22;
          c.setMaxAge(delta);
        }
      }
      break;

    case &#x27;domain&#x27;: // S5.2.3
      // &#x22;If the attribute-value is empty, the behavior is undefined.  However,
      // the user agent SHOULD ignore the cookie-av entirely.&#x22;
      if (av_value) {
        // S5.2.3 &#x22;Let cookie-domain be the attribute-value without the leading %x2E
        // (&#x22;.&#x22;) character.&#x22;
        var domain = av_value.trim().replace(/^\./, &#x27;&#x27;);
        if (domain) {
          // &#x22;Convert the cookie-domain to lower case.&#x22;
          c.domain = domain.toLowerCase();
        }
      }
      break;

    case &#x27;path&#x27;: // S5.2.4
      /*
       * &#x22;If the attribute-value is empty or if the first character of the
       * attribute-value is not %x2F (&#x22;/&#x22;):
       *   Let cookie-path be the default-path.
       * Otherwise:
       *   Let cookie-path be the attribute-value.&#x22;
       *
       * We&#x27;ll represent the default-path as null since it depends on the
       * context of the parsing.
       */
      c.path = av_value &#x26;&#x26; av_va ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.parseDate" id="apidoc.element.tough-cookie.parseDate">
        function <span class="apidocSignatureSpan">tough-cookie.</span>parseDate
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseDate(str) {
  if (!str) {
    return;
  }

<span class="apidocCodeCommentSpan">  /* RFC6265 S5.1.1:
   * 2. Process each date-token sequentially in the order the date-tokens
   * appear in the cookie-date
   */
</span>  var tokens = str.split(DATE_DELIM);
  if (!tokens) {
    return;
  }

  var hour = null;
  var minutes = null;
  var seconds = null;
  var day = null;
  var month = null;
  var year = null;

  for (var i=0; i&#x3c;tokens.length; i++) {
    var token = tokens[i].trim();
    if (!token.length) {
      continue;
    }

    var result;

    /* 2.1. If the found-time flag is not set and the token matches the time
     * production, set the found-time flag and set the hour- value,
     * minute-value, and second-value to the numbers denoted by the digits in
     * the date-token, respectively.  Skip the remaining sub-steps and continue
     * to the next date-token.
     */
    if (seconds === null) {
      result = TIME.exec(token);
      if (result) {
        hour = parseInt(result[1], 10);
        minutes = parseInt(result[2], 10);
        seconds = parseInt(result[3], 10);
        /* RFC6265 S5.1.1.5:
         * [fail if]
         * *  the hour-value is greater than 23,
         * *  the minute-value is greater than 59, or
         * *  the second-value is greater than 59.
         */
        if(hour &#x3e; 23 || minutes &#x3e; 59 || seconds &#x3e; 59) {
          return;
        }

        continue;
      }
    }

    /* 2.2. If the found-day-of-month flag is not set and the date-token matches
     * the day-of-month production, set the found-day-of- month flag and set
     * the day-of-month-value to the number denoted by the date-token.  Skip
     * the remaining sub-steps and continue to the next date-token.
     */
    if (day === null) {
      result = DAY_OF_MONTH.exec(token);
      if (result) {
        day = parseInt(result, 10);
        /* RFC6265 S5.1.1.5:
         * [fail if] the day-of-month-value is less than 1 or greater than 31
         */
        if(day &#x3c; 1 || day &#x3e; 31) {
          return;
        }
        continue;
      }
    }

    /* 2.3. If the found-month flag is not set and the date-token matches the
     * month production, set the found-month flag and set the month-value to
     * the month denoted by the date-token.  Skip the remaining sub-steps and
     * continue to the next date-token.
     */
    if (month === null) {
      result = MONTH.exec(token);
      if (result) {
        month = MONTH_TO_NUM[result[1].toLowerCase()];
        continue;
      }
    }

    /* 2.4. If the found-year flag is not set and the date-token matches the year
     * production, set the found-year flag and set the year-value to the number
     * denoted by the date-token.  Skip the remaining sub-steps and continue to
     * the next date-token.
     */
    if (year === null) {
      result = YEAR.exec(token);
      if (result) {
        year = parseInt(result[0], 10);
        /* From S5.1.1:
         * 3.  If the year-value is greater than or equal to 70 and less
         * than or equal to 99, increment the year-value by 1900.
         * 4.  If the year-value is greater than or equal to 0 and less
         * than or equal to 69, increment the year-value by 2000.
         */
        if (70 &#x3c;= year &#x26;&#x26; year &#x3c;= 99) {
          year += 1900;
        } else if (0 &#x3c;= year &#x26;&#x26; year &#x3c;= 69) {
          year += 2000;
        }

        if (year &#x3c; 1601) {
          return; // 5. ... the year-value is less than 1601
        }
      }
    }
  }

  if (seconds === null || day === null || month === null || year === null) {
    return; // 5. ... at least one of the found-day-of-month, found-month, found-
            // year, or found-time flags is not set,
  }

  return new Date(Date.UTC(year, month, day, hour, minutes, seconds));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.pathMatch" id="apidoc.element.tough-cookie.pathMatch">
        function <span class="apidocSignatureSpan">tough-cookie.</span>pathMatch
        <span class="apidocSignatureSpan">(reqPath, cookiePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pathMatch(reqPath, cookiePath) {
  // &#x22;o  The cookie-path and the request-path are identical.&#x22;
  if (cookiePath === reqPath) {
    return true;
  }

  var idx = reqPath.indexOf(cookiePath);
  if (idx === 0) {
    // &#x22;o  The cookie-path is a prefix of the request-path, and the last
    // character of the cookie-path is %x2F (&#x22;/&#x22;).&#x22;
    if (cookiePath.substr(-1) === &#x22;/&#x22;) {
      return true;
    }

    // &#x22; o  The cookie-path is a prefix of the request-path, and the first
    // character of the request-path that is not included in the cookie- path
    // is a %x2F (&#x22;/&#x22;) character.&#x22;
    if (reqPath.substr(cookiePath.length, 1) === &#x22;/&#x22;) {
      return true;
    }
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.permuteDomain" id="apidoc.element.tough-cookie.permuteDomain">
        function <span class="apidocSignatureSpan">tough-cookie.</span>permuteDomain
        <span class="apidocSignatureSpan">(domain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function permuteDomain(domain) {
  var pubSuf = pubsuffix.getPublicSuffix(domain);
  if (!pubSuf) {
    return null;
  }
  if (pubSuf == domain) {
    return [domain];
  }

  var prefix = domain.slice(0, -(pubSuf.length + 1)); // &#x22;.example.com&#x22;
  var parts = prefix.split(&#x27;.&#x27;).reverse();
  var cur = pubSuf;
  var permutations = [cur];
  while (parts.length) {
    cur = parts.shift() + &#x27;.&#x27; + cur;
    permutations.push(cur);
  }
  return permutations;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.permutePath" id="apidoc.element.tough-cookie.permutePath">
        function <span class="apidocSignatureSpan">tough-cookie.</span>permutePath
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function permutePath(path) {
  if (path === &#x27;/&#x27;) {
    return [&#x27;/&#x27;];
  }
  if (path.lastIndexOf(&#x27;/&#x27;) === path.length-1) {
    path = path.substr(0,path.length-1);
  }
  var permutations = [path];
  while (path.length &#x3e; 1) {
    var lindex = path.lastIndexOf(&#x27;/&#x27;);
    if (lindex === 0) {
      break;
    }
    path = path.substr(0,lindex);
    permutations.push(path);
  }
  permutations.push(&#x27;/&#x27;);
  return permutations;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.Cookie" id="apidoc.module.tough-cookie.Cookie">module tough-cookie.Cookie</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.Cookie" id="apidoc.element.tough-cookie.Cookie.Cookie">
        function <span class="apidocSignatureSpan">tough-cookie.</span>Cookie
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Cookie(options) {
  options = options || {};

  Object.keys(options).forEach(function(prop) {
    if (Cookie.prototype.hasOwnProperty(prop) &#x26;&#x26;
        Cookie.prototype[prop] !== options[prop] &#x26;&#x26;
        prop.substr(0,1) !== &#x27;_&#x27;)
    {
      this[prop] = options[prop];
    }
  }, this);

  this.creation = this.creation || new Date();

  // used to break creation ties in cookieCompare():
  Object.defineProperty(this, &#x27;creationIndex&#x27;, {
    configurable: false,
    enumerable: false, // important for assert.deepEqual checks
    writable: true,
    value: ++Cookie.cookiesCreated
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.fromJSON" id="apidoc.element.tough-cookie.Cookie.fromJSON">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.</span>fromJSON
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function fromJSON(str) {
  if (!str) {
    return null;
  }

  var obj;
  if (typeof str === &#x27;string&#x27;) {
    obj = jsonParse(str);
    if (obj instanceof Error) {
      return null;
    }
  } else {
    // assume it&#x27;s an Object
    obj = str;
  }

  var c = new Cookie();
  for (var i=0; i&#x3c;Cookie.serializableProperties.length; i++) {
    var prop = Cookie.serializableProperties[i];
    if (obj[prop] === undefined ||
        obj[prop] === Cookie.prototype[prop])
    {
      continue; // leave as prototype default
    }

    if (prop === &#x27;expires&#x27; ||
        prop === &#x27;creation&#x27; ||
        prop === &#x27;lastAccessed&#x27;)
    {
      if (obj[prop] === null) {
        c[prop] = null;
      } else {
        c[prop] = obj[prop] == &#x22;Infinity&#x22; ?
          &#x22;Infinity&#x22; : new Date(obj[prop]);
      }
    } else {
      c[prop] = obj[prop];
    }
  }

  return c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.parse" id="apidoc.element.tough-cookie.Cookie.parse">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.</span>parse
        <span class="apidocSignatureSpan">(str, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parse(str, options) {
  if (!options || typeof options !== &#x27;object&#x27;) {
    options = {};
  }
  str = str.trim();

  // We use a regex to parse the &#x22;name-value-pair&#x22; part of S5.2
  var firstSemi = str.indexOf(&#x27;;&#x27;); // S5.2 step 1
  var pairRe = options.loose ? LOOSE_COOKIE_PAIR : COOKIE_PAIR;
  var result = pairRe.exec(firstSemi === -1 ? str : str.substr(0,firstSemi));

  // Rx satisfies the &#x22;the name string is empty&#x22; and &#x22;lacks a %x3D (&#x22;=&#x22;)&#x22;
  // constraints as well as trimming any whitespace.
  if (!result) {
    return;
  }

  var c = new Cookie();
  if (result[1]) {
    c.key = result[2].trim();
  } else {
    c.key = &#x27;&#x27;;
  }
  c.value = result[3].trim();
  if (CONTROL_CHARS.test(c.key) || CONTROL_CHARS.test(c.value)) {
    return;
  }

  if (firstSemi === -1) {
    return c;
  }

  // S5.2.3 &#x22;unparsed-attributes consist of the remainder of the set-cookie-string
  // (including the %x3B (&#x22;;&#x22;) in question).&#x22; plus later on in the same section
  // &#x22;discard the first &#x22;;&#x22; and trim&#x22;.
  var unparsed = str.slice(firstSemi + 1).trim();

  // &#x22;If the unparsed-attributes string is empty, skip the rest of these
  // steps.&#x22;
  if (unparsed.length === 0) {
    return c;
  }

<span class="apidocCodeCommentSpan">  /*
   * S5.2 says that when looping over the items &#x22;[p]rocess the attribute-name
   * and attribute-value according to the requirements in the following
   * subsections&#x22; for every item.  Plus, for many of the individual attributes
   * in S5.3 it says to use the &#x22;attribute-value of the last attribute in the
   * cookie-attribute-list&#x22;.  Therefore, in this implementation, we overwrite
   * the previous value.
   */
</span>  var cookie_avs = unparsed.split(&#x27;;&#x27;);
  while (cookie_avs.length) {
    var av = cookie_avs.shift().trim();
    if (av.length === 0) { // happens if &#x22;;;&#x22; appears
      continue;
    }
    var av_sep = av.indexOf(&#x27;=&#x27;);
    var av_key, av_value;

    if (av_sep === -1) {
      av_key = av;
      av_value = null;
    } else {
      av_key = av.substr(0,av_sep);
      av_value = av.substr(av_sep+1);
    }

    av_key = av_key.trim().toLowerCase();

    if (av_value) {
      av_value = av_value.trim();
    }

    switch(av_key) {
    case &#x27;expires&#x27;: // S5.2.1
      if (av_value) {
        var exp = parseDate(av_value);
        // &#x22;If the attribute-value failed to parse as a cookie date, ignore the
        // cookie-av.&#x22;
        if (exp) {
          // over and underflow not realistically a concern: V8&#x27;s getTime() seems to
          // store something larger than a 32-bit time_t (even with 32-bit node)
          c.expires = exp;
        }
      }
      break;

    case &#x27;max-age&#x27;: // S5.2.2
      if (av_value) {
        // &#x22;If the first character of the attribute-value is not a DIGIT or a &#x22;-&#x22;
        // character ...[or]... If the remainder of attribute-value contains a
        // non-DIGIT character, ignore the cookie-av.&#x22;
        if (/^-?[0-9]+$/.test(av_value)) {
          var delta = parseInt(av_value, 10);
          // &#x22;If delta-seconds is less than or equal to zero (0), let expiry-time
          // be the earliest representable date and time.&#x22;
          c.setMaxAge(delta);
        }
      }
      break;

    case &#x27;domain&#x27;: // S5.2.3
      // &#x22;If the attribute-value is empty, the behavior is undefined.  However,
      // the user agent SHOULD ignore the cookie-av entirely.&#x22;
      if (av_value) {
        // S5.2.3 &#x22;Let cookie-domain be the attribute-value without the leading %x2E
        // (&#x22;.&#x22;) character.&#x22;
        var domain = av_value.trim().replace(/^\./, &#x27;&#x27;);
        if (domain) {
          // &#x22;Convert the cookie-domain to lower case.&#x22;
          c.domain = domain.toLowerCase();
        }
      }
      break;

    case &#x27;path&#x27;: // S5.2.4
      /*
       * &#x22;If the attribute-value is empty or if the first character of the
       * attribute-value is not %x2F (&#x22;/&#x22;):
       *   Let cookie-path be the default-path.
       * Otherwise:
       *   Let cookie-path be the attribute-value.&#x22;
       *
       * We&#x27;ll represent the default-path as null since it depends on the
       * context of the parsing.
       */
      c.path = av_value &#x26;&#x26; av_va ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.Cookie.prototype" id="apidoc.module.tough-cookie.Cookie.prototype">module tough-cookie.Cookie.prototype</a></h1>






    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.TTL" id="apidoc.element.tough-cookie.Cookie.prototype.TTL">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>TTL
        <span class="apidocSignatureSpan">(now)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TTL(now) {
<span class="apidocCodeCommentSpan">  /* RFC6265 S4.1.2.2 If a cookie has both the Max-Age and the Expires
   * attribute, the Max-Age attribute has precedence and controls the
   * expiration date of the cookie.
   * (Concurs with S5.3 step 3)
   */
</span>  if (this.maxAge != null) {
    return this.maxAge&#x3c;=0 ? 0 : this.maxAge*1000;
  }

  var expires = this.expires;
  if (expires != Infinity) {
    if (!(expires instanceof Date)) {
      expires = parseDate(expires) || Infinity;
    }

    if (expires == Infinity) {
      return Infinity;
    }

    return expires.getTime() - (now || Date.now());
  }

  return Infinity;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.canonicalizedDomain" id="apidoc.element.tough-cookie.Cookie.prototype.canonicalizedDomain">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>canonicalizedDomain
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canonicalizedDomain() {
  if (this.domain == null) {
    return null;
  }
  return canonicalDomain(this.domain);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.cdomain" id="apidoc.element.tough-cookie.Cookie.prototype.cdomain">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>cdomain
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canonicalizedDomain() {
  if (this.domain == null) {
    return null;
  }
  return canonicalDomain(this.domain);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.clone" id="apidoc.element.tough-cookie.Cookie.prototype.clone">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  return fromJSON(this.toJSON());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.cookieString" id="apidoc.element.tough-cookie.Cookie.prototype.cookieString">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>cookieString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function cookieString() {
  var val = this.value;
  if (val == null) {
    val = &#x27;&#x27;;
  }
  if (this.key === &#x27;&#x27;) {
    return val;
  }
  return this.key+&#x27;=&#x27;+val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.expiryDate" id="apidoc.element.tough-cookie.Cookie.prototype.expiryDate">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>expiryDate
        <span class="apidocSignatureSpan">(now)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expiryDate(now) {
  var millisec = this.expiryTime(now);
  if (millisec == Infinity) {
    return new Date(MAX_TIME);
  } else if (millisec == -Infinity) {
    return new Date(MIN_TIME);
  } else {
    return new Date(millisec);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.expiryTime" id="apidoc.element.tough-cookie.Cookie.prototype.expiryTime">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>expiryTime
        <span class="apidocSignatureSpan">(now)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expiryTime(now) {
  if (this.maxAge != null) {
    var relativeTo = now || this.creation || new Date();
    var age = (this.maxAge &#x3c;= 0) ? -Infinity : this.maxAge*1000;
    return relativeTo.getTime() + age;
  }

  if (this.expires == Infinity) {
    return Infinity;
  }
  return this.expires.getTime();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.inspect" id="apidoc.element.tough-cookie.Cookie.prototype.inspect">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function inspect() {
  var now = Date.now();
  return &#x27;Cookie=&#x22;&#x27;+this.toString() +
    &#x27;; hostOnly=&#x27;+(this.hostOnly != null ? this.hostOnly : &#x27;?&#x27;) +
    &#x27;; aAge=&#x27;+(this.lastAccessed ? (now-this.lastAccessed.getTime())+&#x27;ms&#x27; : &#x27;?&#x27;) +
    &#x27;; cAge=&#x27;+(this.creation ? (now-this.creation.getTime())+&#x27;ms&#x27; : &#x27;?&#x27;) +
    &#x27;&#x22;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
MemoryCookieStore.prototype.idx = null;

// Since it&#x27;s just a struct in RAM, this Store is synchronous
MemoryCookieStore.prototype.synchronous = true;

// force a default depth:
MemoryCookieStore.prototype.inspect = function() {
return &#x22;{ idx: &#x22;+util.<span class="apidocCodeKeywordSpan">inspect</span>(this.idx, false, 2)+&#x27; }&#x27;;
};

MemoryCookieStore.prototype.findCookie = function(domain, path, key, cb) {
if (!this.idx[domain]) {
  return cb(null,undefined);
}
if (!this.idx[domain][path]) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.isPersistent" id="apidoc.element.tough-cookie.Cookie.prototype.isPersistent">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>isPersistent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPersistent() {
  return (this.maxAge != null || this.expires != Infinity);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.setExpires" id="apidoc.element.tough-cookie.Cookie.prototype.setExpires">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>setExpires
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setExpires(exp) {
  if (exp instanceof Date) {
    this.expires = exp;
  } else {
    this.expires = parseDate(exp) || &#x22;Infinity&#x22;;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.setMaxAge" id="apidoc.element.tough-cookie.Cookie.prototype.setMaxAge">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>setMaxAge
        <span class="apidocSignatureSpan">(age)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setMaxAge(age) {
  if (age === Infinity || age === -Infinity) {
    this.maxAge = age.toString(); // so JSON.stringify() works
  } else {
    this.maxAge = age;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.toJSON" id="apidoc.element.tough-cookie.Cookie.prototype.toJSON">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  var obj = {};

  var props = Cookie.serializableProperties;
  for (var i=0; i&#x3c;props.length; i++) {
    var prop = props[i];
    if (this[prop] === Cookie.prototype[prop]) {
      continue; // leave as prototype default
    }

    if (prop === &#x27;expires&#x27; ||
        prop === &#x27;creation&#x27; ||
        prop === &#x27;lastAccessed&#x27;)
    {
      if (this[prop] === null) {
        obj[prop] = null;
      } else {
        obj[prop] = this[prop] == &#x22;Infinity&#x22; ? // intentionally not ===
          &#x22;Infinity&#x22; : this[prop].toISOString();
      }
    } else if (prop === &#x27;maxAge&#x27;) {
      if (this[prop] !== null) {
        // again, intentionally not ===
        obj[prop] = (this[prop] == Infinity || this[prop] == -Infinity) ?
          this[prop].toString() : this[prop];
      }
    } else {
      if (this[prop] !== Cookie.prototype[prop]) {
        obj[prop] = this[prop];
      }
    }
  }

  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.toString" id="apidoc.element.tough-cookie.Cookie.prototype.toString">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() {
  var str = this.cookieString();

  if (this.expires != Infinity) {
    if (this.expires instanceof Date) {
      str += &#x27;; Expires=&#x27;+formatDate(this.expires);
    } else {
      str += &#x27;; Expires=&#x27;+this.expires;
    }
  }

  if (this.maxAge != null &#x26;&#x26; this.maxAge != Infinity) {
    str += &#x27;; Max-Age=&#x27;+this.maxAge;
  }

  if (this.domain &#x26;&#x26; !this.hostOnly) {
    str += &#x27;; Domain=&#x27;+this.domain;
  }
  if (this.path) {
    str += &#x27;; Path=&#x27;+this.path;
  }

  if (this.secure) {
    str += &#x27;; Secure&#x27;;
  }
  if (this.httpOnly) {
    str += &#x27;; HttpOnly&#x27;;
  }
  if (this.extensions) {
    this.extensions.forEach(function(ext) {
      str += &#x27;; &#x27;+ext;
    });
  }

  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Cookie.prototype.validate" id="apidoc.element.tough-cookie.Cookie.prototype.validate">
        function <span class="apidocSignatureSpan">tough-cookie.Cookie.prototype.</span>validate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function validate() {
  if (!COOKIE_OCTETS.test(this.value)) {
    return false;
  }
  if (this.expires != Infinity &#x26;&#x26; !(this.expires instanceof Date) &#x26;&#x26; !parseDate(this.expires)) {
    return false;
  }
  if (this.maxAge != null &#x26;&#x26; this.maxAge &#x3c;= 0) {
    return false; // &#x22;Max-Age=&#x22; non-zero-digit *DIGIT
  }
  if (this.path != null &#x26;&#x26; !PATH_VALUE.test(this.path)) {
    return false;
  }

  var cdomain = this.cdomain();
  if (cdomain) {
    if (cdomain.match(/\.$/)) {
      return false; // S4.1.2.3 suggests that this is bad. domainMatch() tests confirm this
    }
    var suffix = pubsuffix.getPublicSuffix(cdomain);
    if (suffix == null) { // it&#x27;s a public suffix
      return false;
    }
  }
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.CookieJar" id="apidoc.module.tough-cookie.CookieJar">module tough-cookie.CookieJar</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.CookieJar" id="apidoc.element.tough-cookie.CookieJar.CookieJar">
        function <span class="apidocSignatureSpan">tough-cookie.</span>CookieJar
        <span class="apidocSignatureSpan">(store, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CookieJar(store, options) {
  if (typeof options === &#x22;boolean&#x22;) {
    options = {rejectPublicSuffixes: options};
  } else if (options == null) {
    options = {};
  }
  if (options.rejectPublicSuffixes != null) {
    this.rejectPublicSuffixes = options.rejectPublicSuffixes;
  }
  if (options.looseMode != null) {
    this.enableLooseMode = options.looseMode;
  }

  if (!store) {
    store = new MemoryCookieStore();
  }
  this.store = store;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.deserialize" id="apidoc.element.tough-cookie.CookieJar.deserialize">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.</span>deserialize
        <span class="apidocSignatureSpan">(strOrObj, store, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (strOrObj, store, cb) {
  if (arguments.length !== 3) {
    // store is optional
    cb = store;
    store = null;
  }

  var serialized;
  if (typeof strOrObj === &#x27;string&#x27;) {
    serialized = jsonParse(strOrObj);
    if (serialized instanceof Error) {
      return cb(serialized);
    }
  } else {
    serialized = strOrObj;
  }

  var jar = new CookieJar(store, serialized.rejectPublicSuffixes);
  jar._importCookies(serialized, function(err) {
    if (err) {
      return cb(err);
    }
    cb(null, jar);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.deserializeSync" id="apidoc.element.tough-cookie.CookieJar.deserializeSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.</span>deserializeSync
        <span class="apidocSignatureSpan">(strOrObj, store)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserializeSync = function (strOrObj, store) {
  var serialized = typeof strOrObj === &#x27;string&#x27; ?
    JSON.parse(strOrObj) : strOrObj;
  var jar = new CookieJar(store, serialized.rejectPublicSuffixes);

  // catch this mistake early:
  if (!jar.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  jar._importCookiesSync(serialized);
  return jar;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.fromJSON" id="apidoc.element.tough-cookie.CookieJar.fromJSON">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.</span>fromJSON
        <span class="apidocSignatureSpan">(strOrObj, store)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromJSON = function (strOrObj, store) {
  var serialized = typeof strOrObj === &#x27;string&#x27; ?
    JSON.parse(strOrObj) : strOrObj;
  var jar = new CookieJar(store, serialized.rejectPublicSuffixes);

  // catch this mistake early:
  if (!jar.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  jar._importCookiesSync(serialized);
  return jar;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.CookieJar.prototype" id="apidoc.module.tough-cookie.CookieJar.prototype">module tough-cookie.CookieJar.prototype</a></h1>






    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype._importCookies" id="apidoc.element.tough-cookie.CookieJar.prototype._importCookies">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>_importCookies
        <span class="apidocSignatureSpan">(serialized, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_importCookies = function (serialized, cb) {
  var jar = this;
  var cookies = serialized.cookies;
  if (!cookies || !Array.isArray(cookies)) {
    return cb(new Error(&#x27;serialized jar has no cookies array&#x27;));
  }

  function putNext(err) {
    if (err) {
      return cb(err);
    }

    if (!cookies.length) {
      return cb(err, jar);
    }

    var cookie;
    try {
      cookie = fromJSON(cookies.shift());
    } catch (e) {
      return cb(e);
    }

    if (cookie === null) {
      return putNext(null); // skip this cookie
    }

    jar.store.putCookie(cookie, putNext);
  }

  putNext();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype._importCookiesSync" id="apidoc.element.tough-cookie.CookieJar.prototype._importCookiesSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>_importCookiesSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_importCookiesSync = function () {
  if (!this.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  var args = Array.prototype.slice.call(arguments);
  var syncErr, syncResult;
  args.push(function syncCb(err, result) {
    syncErr = err;
    syncResult = result;
  });
  this[method].apply(this, args);

  if (syncErr) {
    throw syncErr;
  }
  return syncResult;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.clone" id="apidoc.element.tough-cookie.CookieJar.prototype.clone">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>clone
        <span class="apidocSignatureSpan">(newStore, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function (newStore, cb) {
  if (arguments.length === 1) {
    cb = newStore;
    newStore = null;
  }

  this.serialize(function(err,serialized) {
    if (err) {
      return cb(err);
    }
    CookieJar.deserialize(newStore, serialized, cb);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.cloneSync" id="apidoc.element.tough-cookie.CookieJar.prototype.cloneSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>cloneSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cloneSync = function () {
  if (!this.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  var args = Array.prototype.slice.call(arguments);
  var syncErr, syncResult;
  args.push(function syncCb(err, result) {
    syncErr = err;
    syncResult = result;
  });
  this[method].apply(this, args);

  if (syncErr) {
    throw syncErr;
  }
  return syncResult;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookieString" id="apidoc.element.tough-cookie.CookieJar.prototype.getCookieString">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookieString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCookieString = function () {
  var args = Array.prototype.slice.call(arguments,0);
  var cb = args.pop();
  var next = function(err,cookies) {
    if (err) {
      cb(err);
    } else {
      cb(null, cookies
        .sort(cookieCompare)
        .map(function(c){
          return c.cookieString();
        })
        .join(&#x27;; &#x27;));
    }
  };
  args.push(next);
  this.getCookies.apply(this,args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookieStringSync" id="apidoc.element.tough-cookie.CookieJar.prototype.getCookieStringSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookieStringSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCookieStringSync = function () {
  if (!this.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  var args = Array.prototype.slice.call(arguments);
  var syncErr, syncResult;
  args.push(function syncCb(err, result) {
    syncErr = err;
    syncResult = result;
  });
  this[method].apply(this, args);

  if (syncErr) {
    throw syncErr;
  }
  return syncResult;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookies" id="apidoc.element.tough-cookie.CookieJar.prototype.getCookies">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookies
        <span class="apidocSignatureSpan">(url, options, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCookies = function (url, options, cb) {
  var context = getCookieContext(url);
  if (options instanceof Function) {
    cb = options;
    options = {};
  }

  var host = canonicalDomain(context.hostname);
  var path = context.pathname || &#x27;/&#x27;;

  var secure = options.secure;
  if (secure == null &#x26;&#x26; context.protocol &#x26;&#x26;
      (context.protocol == &#x27;https:&#x27; || context.protocol == &#x27;wss:&#x27;))
  {
    secure = true;
  }

  var http = options.http;
  if (http == null) {
    http = true;
  }

  var now = options.now || Date.now();
  var expireCheck = options.expire !== false;
  var allPaths = !!options.allPaths;
  var store = this.store;

  function matchingCookie(c) {
    // &#x22;Either:
    //   The cookie&#x27;s host-only-flag is true and the canonicalized
    //   request-host is identical to the cookie&#x27;s domain.
    // Or:
    //   The cookie&#x27;s host-only-flag is false and the canonicalized
    //   request-host domain-matches the cookie&#x27;s domain.&#x22;
    if (c.hostOnly) {
      if (c.domain != host) {
        return false;
      }
    } else {
      if (!domainMatch(host, c.domain, false)) {
        return false;
      }
    }

    // &#x22;The request-uri&#x27;s path path-matches the cookie&#x27;s path.&#x22;
    if (!allPaths &#x26;&#x26; !pathMatch(path, c.path)) {
      return false;
    }

    // &#x22;If the cookie&#x27;s secure-only-flag is true, then the request-uri&#x27;s
    // scheme must denote a &#x22;secure&#x22; protocol&#x22;
    if (c.secure &#x26;&#x26; !secure) {
      return false;
    }

    // &#x22;If the cookie&#x27;s http-only-flag is true, then exclude the cookie if the
    // cookie-string is being generated for a &#x22;non-HTTP&#x22; API&#x22;
    if (c.httpOnly &#x26;&#x26; !http) {
      return false;
    }

    // deferred from S5.3
    // non-RFC: allow retention of expired cookies by choice
    if (expireCheck &#x26;&#x26; c.expiryTime() &#x3c;= now) {
      store.removeCookie(c.domain, c.path, c.key, function(){}); // result ignored
      return false;
    }

    return true;
  }

  store.findCookies(host, allPaths ? null : path, function(err,cookies) {
    if (err) {
      return cb(err);
    }

    cookies = cookies.filter(matchingCookie);

    // sorting of S5.4 part 2
    if (options.sort !== false) {
      cookies = cookies.sort(cookieCompare);
    }

    // S5.4 part 3
    var now = new Date();
    cookies.forEach(function(c) {
      c.lastAccessed = now;
    });
    // TODO persist lastAccessed

    cb(null,cookies);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.getCookiesSync" id="apidoc.element.tough-cookie.CookieJar.prototype.getCookiesSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getCookiesSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCookiesSync = function () {
  if (!this.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  var args = Array.prototype.slice.call(arguments);
  var syncErr, syncResult;
  args.push(function syncCb(err, result) {
    syncErr = err;
    syncResult = result;
  });
  this[method].apply(this, args);

  if (syncErr) {
    throw syncErr;
  }
  return syncResult;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.getSetCookieStrings" id="apidoc.element.tough-cookie.CookieJar.prototype.getSetCookieStrings">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getSetCookieStrings
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSetCookieStrings = function () {
  var args = Array.prototype.slice.call(arguments,0);
  var cb = args.pop();
  var next = function(err,cookies) {
    if (err) {
      cb(err);
    } else {
      cb(null, cookies.map(function(c){
        return c.toString();
      }));
    }
  };
  args.push(next);
  this.getCookies.apply(this,args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.getSetCookieStringsSync" id="apidoc.element.tough-cookie.CookieJar.prototype.getSetCookieStringsSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>getSetCookieStringsSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSetCookieStringsSync = function () {
  if (!this.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  var args = Array.prototype.slice.call(arguments);
  var syncErr, syncResult;
  args.push(function syncCb(err, result) {
    syncErr = err;
    syncResult = result;
  });
  this[method].apply(this, args);

  if (syncErr) {
    throw syncErr;
  }
  return syncResult;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.serialize" id="apidoc.element.tough-cookie.CookieJar.prototype.serialize">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>serialize
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (cb) {
  var type = this.store.constructor.name;
  if (type === &#x27;Object&#x27;) {
    type = null;
  }

  // update README.md &#x22;Serialization Format&#x22; if you change this, please!
  var serialized = {
    // The version of tough-cookie that serialized this jar. Generally a good
    // practice since future versions can make data import decisions based on
    // known past behavior. When/if this matters, use `semver`.
    version: &#x27;tough-cookie@&#x27;+VERSION,

    // add the store type, to make humans happy:
    storeType: type,

    // CookieJar configuration:
    rejectPublicSuffixes: !!this.rejectPublicSuffixes,

    // this gets filled from getAllCookies:
    cookies: []
  };

  if (!(this.store.getAllCookies &#x26;&#x26;
        typeof this.store.getAllCookies === &#x27;function&#x27;))
  {
    return cb(new Error(&#x27;store does not support getAllCookies and cannot be serialized&#x27;));
  }

  this.store.getAllCookies(function(err,cookies) {
    if (err) {
      return cb(err);
    }

    serialized.cookies = cookies.map(function(cookie) {
      // convert to serialized &#x27;raw&#x27; cookies
      cookie = (cookie instanceof Cookie) ? cookie.toJSON() : cookie;

      // Remove the index so new ones get assigned during deserialization
      delete cookie.creationIndex;

      return cookie;
    });

    return cb(null, serialized);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.serializeSync" id="apidoc.element.tough-cookie.CookieJar.prototype.serializeSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>serializeSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serializeSync = function () {
  if (!this.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  var args = Array.prototype.slice.call(arguments);
  var syncErr, syncResult;
  args.push(function syncCb(err, result) {
    syncErr = err;
    syncResult = result;
  });
  this[method].apply(this, args);

  if (syncErr) {
    throw syncErr;
  }
  return syncResult;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.setCookie" id="apidoc.element.tough-cookie.CookieJar.prototype.setCookie">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>setCookie
        <span class="apidocSignatureSpan">(cookie, url, options, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCookie = function (cookie, url, options, cb) {
  var err;
  var context = getCookieContext(url);
  if (options instanceof Function) {
    cb = options;
    options = {};
  }

  var host = canonicalDomain(context.hostname);
  var loose = this.enableLooseMode;
  if (options.loose != null) {
    loose = options.loose;
  }

  // S5.3 step 1
  if (!(cookie instanceof Cookie)) {
    cookie = Cookie.parse(cookie, { loose: loose });
  }
  if (!cookie) {
    err = new Error(&#x22;Cookie failed to parse&#x22;);
    return cb(options.ignoreError ? null : err);
  }

  // S5.3 step 2
  var now = options.now || new Date(); // will assign later to save effort in the face of errors

  // S5.3 step 3: NOOP; persistent-flag and expiry-time is handled by getCookie()

  // S5.3 step 4: NOOP; domain is null by default

  // S5.3 step 5: public suffixes
  if (this.rejectPublicSuffixes &#x26;&#x26; cookie.domain) {
    var suffix = pubsuffix.getPublicSuffix(cookie.cdomain());
    if (suffix == null) { // e.g. &#x22;com&#x22;
      err = new Error(&#x22;Cookie has domain set to a public suffix&#x22;);
      return cb(options.ignoreError ? null : err);
    }
  }

  // S5.3 step 6:
  if (cookie.domain) {
    if (!domainMatch(host, cookie.cdomain(), false)) {
      err = new Error(&#x22;Cookie not in this host&#x27;s domain. Cookie:&#x22;+cookie.cdomain()+&#x22; Request:&#x22;+host);
      return cb(options.ignoreError ? null : err);
    }

    if (cookie.hostOnly == null) { // don&#x27;t reset if already set
      cookie.hostOnly = false;
    }

  } else {
    cookie.hostOnly = true;
    cookie.domain = host;
  }

  //S5.2.4 If the attribute-value is empty or if the first character of the
  //attribute-value is not %x2F (&#x22;/&#x22;):
  //Let cookie-path be the default-path.
  if (!cookie.path || cookie.path[0] !== &#x27;/&#x27;) {
    cookie.path = defaultPath(context.pathname);
    cookie.pathIsDefault = true;
  }

  // S5.3 step 8: NOOP; secure attribute
  // S5.3 step 9: NOOP; httpOnly attribute

  // S5.3 step 10
  if (options.http === false &#x26;&#x26; cookie.httpOnly) {
    err = new Error(&#x22;Cookie is HttpOnly and this isn&#x27;t an HTTP API&#x22;);
    return cb(options.ignoreError ? null : err);
  }

  var store = this.store;

  if (!store.updateCookie) {
    store.updateCookie = function(oldCookie, newCookie, cb) {
      this.putCookie(newCookie, cb);
    };
  }

  function withCookie(err, oldCookie) {
    if (err) {
      return cb(err);
    }

    var next = function(err) {
      if (err) {
        return cb(err);
      } else {
        cb(null, cookie);
      }
    };

    if (oldCookie) {
      // S5.3 step 11 - &#x22;If the cookie store contains a cookie with the same name,
      // domain, and path as the newly created cookie:&#x22;
      if (options.http === false &#x26;&#x26; oldCookie.httpOnly) { // step 11.2
        err = new Error(&#x22;old Cookie is HttpOnly and this isn&#x27;t an HTTP API&#x22;);
        return cb(options.ignoreError ? null : err);
      }
      cookie.creation = oldCookie.creation; // step 11.3
      cookie.creationIndex = oldCookie.creationIndex; // preserve tie-breaker
      cookie.lastAccessed = now;
      // Step 11.4 (delete cookie) is implied by just setting the new one:
      store.updateCookie(oldCookie, cookie, next); // step 12

    } else {
      cookie.creation = cookie.lastAccessed = now;
      store.putCookie(cookie, next); // step 12
    }
  }

  store.findCookie(cookie.domain, cookie.path, cookie.key, withCookie);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.setCookieSync" id="apidoc.element.tough-cookie.CookieJar.prototype.setCookieSync">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>setCookieSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCookieSync = function () {
  if (!this.store.synchronous) {
    throw new Error(&#x27;CookieJar store is not synchronous; use async API instead.&#x27;);
  }

  var args = Array.prototype.slice.call(arguments);
  var syncErr, syncResult;
  args.push(function syncCb(err, result) {
    syncErr = err;
    syncResult = result;
  });
  this[method].apply(this, args);

  if (syncErr) {
    throw syncErr;
  }
  return syncResult;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.CookieJar.prototype.toJSON" id="apidoc.element.tough-cookie.CookieJar.prototype.toJSON">
        function <span class="apidocSignatureSpan">tough-cookie.CookieJar.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.serializeSync();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.MemoryCookieStore" id="apidoc.module.tough-cookie.MemoryCookieStore">module tough-cookie.MemoryCookieStore</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.MemoryCookieStore" id="apidoc.element.tough-cookie.MemoryCookieStore.MemoryCookieStore">
        function <span class="apidocSignatureSpan">tough-cookie.</span>MemoryCookieStore
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemoryCookieStore() {
  Store.call(this);
  this.idx = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.super_" id="apidoc.element.tough-cookie.MemoryCookieStore.super_">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Store() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.MemoryCookieStore.prototype" id="apidoc.module.tough-cookie.MemoryCookieStore.prototype">module tough-cookie.MemoryCookieStore.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.findCookie" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.findCookie">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>findCookie
        <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findCookie = function (domain, path, key, cb) {
  if (!this.idx[domain]) {
    return cb(null,undefined);
  }
  if (!this.idx[domain][path]) {
    return cb(null,undefined);
  }
  return cb(null,this.idx[domain][path][key]||null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.findCookies" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.findCookies">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>findCookies
        <span class="apidocSignatureSpan">(domain, path, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findCookies = function (domain, path, cb) {
  var results = [];
  if (!domain) {
    return cb(null,[]);
  }

  var pathMatcher;
  if (!path) {
    // null means &#x22;all paths&#x22;
    pathMatcher = function matchAll(domainIndex) {
      for (var curPath in domainIndex) {
        var pathIndex = domainIndex[curPath];
        for (var key in pathIndex) {
          results.push(pathIndex[key]);
        }
      }
    };

  } else {
    pathMatcher = function matchRFC(domainIndex) {
       //NOTE: we should use path-match algorithm from S5.1.4 here
       //(see : https://github.com/ChromiumWebApps/chromium/blob/b3d3b4da8bb94c1b2e061600df106d590fda3620/net/cookies/canonical_cookie
.cc#L299)
       Object.keys(domainIndex).forEach(function (cookiePath) {
         if (pathMatch(path, cookiePath)) {
           var pathIndex = domainIndex[cookiePath];

           for (var key in pathIndex) {
             results.push(pathIndex[key]);
           }
         }
       });
     };
  }

  var domains = permuteDomain(domain) || [domain];
  var idx = this.idx;
  domains.forEach(function(curDomain) {
    var domainIndex = idx[curDomain];
    if (!domainIndex) {
      return;
    }
    pathMatcher(domainIndex);
  });

  cb(null,results);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.getAllCookies" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.getAllCookies">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>getAllCookies
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAllCookies = function (cb) {
  var cookies = [];
  var idx = this.idx;

  var domains = Object.keys(idx);
  domains.forEach(function(domain) {
    var paths = Object.keys(idx[domain]);
    paths.forEach(function(path) {
      var keys = Object.keys(idx[domain][path]);
      keys.forEach(function(key) {
        if (key !== null) {
          cookies.push(idx[domain][path][key]);
        }
      });
    });
  });

  // Sort by creationIndex so deserializing retains the creation order.
  // When implementing your own store, this SHOULD retain the order too
  cookies.sort(function(a,b) {
    return (a.creationIndex||0) - (b.creationIndex||0);
  });

  cb(null, cookies);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.inspect" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.inspect">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
  return &#x22;{ idx: &#x22;+util.inspect(this.idx, false, 2)+&#x27; }&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
MemoryCookieStore.prototype.idx = null;

// Since it&#x27;s just a struct in RAM, this Store is synchronous
MemoryCookieStore.prototype.synchronous = true;

// force a default depth:
MemoryCookieStore.prototype.inspect = function() {
return &#x22;{ idx: &#x22;+util.<span class="apidocCodeKeywordSpan">inspect</span>(this.idx, false, 2)+&#x27; }&#x27;;
};

MemoryCookieStore.prototype.findCookie = function(domain, path, key, cb) {
if (!this.idx[domain]) {
  return cb(null,undefined);
}
if (!this.idx[domain][path]) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.putCookie" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.putCookie">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>putCookie
        <span class="apidocSignatureSpan">(cookie, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">putCookie = function (cookie, cb) {
  if (!this.idx[cookie.domain]) {
    this.idx[cookie.domain] = {};
  }
  if (!this.idx[cookie.domain][cookie.path]) {
    this.idx[cookie.domain][cookie.path] = {};
  }
  this.idx[cookie.domain][cookie.path][cookie.key] = cookie;
  cb(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
cb(null);
};

MemoryCookieStore.prototype.updateCookie = function(oldCookie, newCookie, cb) {
// updateCookie() may avoid updating cookies that are identical.  For example,
// lastAccessed may not be important to some stores and an equality
// comparison could exclude that field.
this.<span class="apidocCodeKeywordSpan">putCookie</span>(newCookie,cb);
};

MemoryCookieStore.prototype.removeCookie = function(domain, path, key, cb) {
if (this.idx[domain] &#x26;&#x26; this.idx[domain][path] &#x26;&#x26; this.idx[domain][path][key]) {
  delete this.idx[domain][path][key];
}
cb(null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.removeCookie" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.removeCookie">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>removeCookie
        <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeCookie = function (domain, path, key, cb) {
  if (this.idx[domain] &#x26;&#x26; this.idx[domain][path] &#x26;&#x26; this.idx[domain][path][key]) {
    delete this.idx[domain][path][key];
  }
  cb(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.removeCookies" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.removeCookies">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>removeCookies
        <span class="apidocSignatureSpan">(domain, path, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeCookies = function (domain, path, cb) {
  if (this.idx[domain]) {
    if (path) {
      delete this.idx[domain][path];
    } else {
      delete this.idx[domain];
    }
  }
  return cb(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.MemoryCookieStore.prototype.updateCookie" id="apidoc.element.tough-cookie.MemoryCookieStore.prototype.updateCookie">
        function <span class="apidocSignatureSpan">tough-cookie.MemoryCookieStore.prototype.</span>updateCookie
        <span class="apidocSignatureSpan">(oldCookie, newCookie, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateCookie = function (oldCookie, newCookie, cb) {
  // updateCookie() may avoid updating cookies that are identical.  For example,
  // lastAccessed may not be important to some stores and an equality
  // comparison could exclude that field.
  this.putCookie(newCookie,cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.Store" id="apidoc.module.tough-cookie.Store">module tough-cookie.Store</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.Store.Store" id="apidoc.element.tough-cookie.Store.Store">
        function <span class="apidocSignatureSpan">tough-cookie.</span>Store
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Store() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.Store.prototype" id="apidoc.module.tough-cookie.Store.prototype">module tough-cookie.Store.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.tough-cookie.Store.prototype.findCookie" id="apidoc.element.tough-cookie.Store.prototype.findCookie">
        function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>findCookie
        <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findCookie = function (domain, path, key, cb) {
  throw new Error(&#x27;findCookie is not implemented&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Store.prototype.findCookies" id="apidoc.element.tough-cookie.Store.prototype.findCookies">
        function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>findCookies
        <span class="apidocSignatureSpan">(domain, path, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findCookies = function (domain, path, cb) {
  throw new Error(&#x27;findCookies is not implemented&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Store.prototype.getAllCookies" id="apidoc.element.tough-cookie.Store.prototype.getAllCookies">
        function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>getAllCookies
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAllCookies = function (cb) {
  throw new Error(&#x27;getAllCookies is not implemented (therefore jar cannot be serialized)&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Store.prototype.putCookie" id="apidoc.element.tough-cookie.Store.prototype.putCookie">
        function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>putCookie
        <span class="apidocSignatureSpan">(cookie, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">putCookie = function (cookie, cb) {
  throw new Error(&#x27;putCookie is not implemented&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
cb(null);
};

MemoryCookieStore.prototype.updateCookie = function(oldCookie, newCookie, cb) {
// updateCookie() may avoid updating cookies that are identical.  For example,
// lastAccessed may not be important to some stores and an equality
// comparison could exclude that field.
this.<span class="apidocCodeKeywordSpan">putCookie</span>(newCookie,cb);
};

MemoryCookieStore.prototype.removeCookie = function(domain, path, key, cb) {
if (this.idx[domain] &#x26;&#x26; this.idx[domain][path] &#x26;&#x26; this.idx[domain][path][key]) {
  delete this.idx[domain][path][key];
}
cb(null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Store.prototype.removeCookie" id="apidoc.element.tough-cookie.Store.prototype.removeCookie">
        function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>removeCookie
        <span class="apidocSignatureSpan">(domain, path, key, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeCookie = function (domain, path, key, cb) {
  throw new Error(&#x27;removeCookie is not implemented&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Store.prototype.removeCookies" id="apidoc.element.tough-cookie.Store.prototype.removeCookies">
        function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>removeCookies
        <span class="apidocSignatureSpan">(domain, path, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeCookies = function (domain, path, cb) {
  throw new Error(&#x27;removeCookies is not implemented&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tough-cookie.Store.prototype.updateCookie" id="apidoc.element.tough-cookie.Store.prototype.updateCookie">
        function <span class="apidocSignatureSpan">tough-cookie.Store.prototype.</span>updateCookie
        <span class="apidocSignatureSpan">(oldCookie, newCookie, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateCookie = function (oldCookie, newCookie, cb) {
  // recommended default implementation:
  // return this.putCookie(newCookie, cb);
  throw new Error(&#x27;updateCookie is not implemented&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.memstore" id="apidoc.module.tough-cookie.memstore">module tough-cookie.memstore</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.memstore.MemoryCookieStore" id="apidoc.element.tough-cookie.memstore.MemoryCookieStore">
        function <span class="apidocSignatureSpan">tough-cookie.memstore.</span>MemoryCookieStore
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemoryCookieStore() {
  Store.call(this);
  this.idx = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.pathMatch" id="apidoc.module.tough-cookie.pathMatch">module tough-cookie.pathMatch</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.pathMatch.pathMatch" id="apidoc.element.tough-cookie.pathMatch.pathMatch">
        function <span class="apidocSignatureSpan">tough-cookie.</span>pathMatch
        <span class="apidocSignatureSpan">(reqPath, cookiePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pathMatch(reqPath, cookiePath) {
  // &#x22;o  The cookie-path and the request-path are identical.&#x22;
  if (cookiePath === reqPath) {
    return true;
  }

  var idx = reqPath.indexOf(cookiePath);
  if (idx === 0) {
    // &#x22;o  The cookie-path is a prefix of the request-path, and the last
    // character of the cookie-path is %x2F (&#x22;/&#x22;).&#x22;
    if (cookiePath.substr(-1) === &#x22;/&#x22;) {
      return true;
    }

    // &#x22; o  The cookie-path is a prefix of the request-path, and the first
    // character of the request-path that is not included in the cookie- path
    // is a %x2F (&#x22;/&#x22;) character.&#x22;
    if (reqPath.substr(cookiePath.length, 1) === &#x22;/&#x22;) {
      return true;
    }
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.permuteDomain" id="apidoc.module.tough-cookie.permuteDomain">module tough-cookie.permuteDomain</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.permuteDomain.permuteDomain" id="apidoc.element.tough-cookie.permuteDomain.permuteDomain">
        function <span class="apidocSignatureSpan">tough-cookie.</span>permuteDomain
        <span class="apidocSignatureSpan">(domain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function permuteDomain(domain) {
  var pubSuf = pubsuffix.getPublicSuffix(domain);
  if (!pubSuf) {
    return null;
  }
  if (pubSuf == domain) {
    return [domain];
  }

  var prefix = domain.slice(0, -(pubSuf.length + 1)); // &#x22;.example.com&#x22;
  var parts = prefix.split(&#x27;.&#x27;).reverse();
  var cur = pubSuf;
  var permutations = [cur];
  while (parts.length) {
    cur = parts.shift() + &#x27;.&#x27; + cur;
    permutations.push(cur);
  }
  return permutations;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.pubsuffix" id="apidoc.module.tough-cookie.pubsuffix">module tough-cookie.pubsuffix</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.pubsuffix.getPublicSuffix" id="apidoc.element.tough-cookie.pubsuffix.getPublicSuffix">
        function <span class="apidocSignatureSpan">tough-cookie.pubsuffix.</span>getPublicSuffix
        <span class="apidocSignatureSpan">(domain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getPublicSuffix(domain) {
<span class="apidocCodeCommentSpan">  /*!
   * Copyright (c) 2015, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &#x22;AS IS&#x22;
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   */
</span>  if (!domain) {
    return null;
  }
  if (domain.match(/^\./)) {
    return null;
  }
  var asciiDomain = punycode.toASCII(domain);
  var converted = false;
  if (asciiDomain !== domain) {
    domain = asciiDomain;
    converted = true;
  }
  if (index[domain]) {
    return null;
  }

  domain = domain.toLowerCase();
  var parts = domain.split(&#x27;.&#x27;).reverse();

  var suffix = &#x27;&#x27;;
  var suffixLen = 0;
  for (var i=0; i&#x3c;parts.length; i++) {
    var part = parts[i];
    var starstr = &#x27;*&#x27;+suffix;
    var partstr = part+suffix;

    if (index[starstr]) { // star rule matches
      suffixLen = i+1;
      if (index[partstr] === false) { // exception rule matches (NB: false, not undefined)
        suffixLen--;
      }
    } else if (index[partstr]) { // exact match, not exception
      suffixLen = i+1;
    }

    suffix = &#x27;.&#x27;+partstr;
  }

  if (index[&#x27;*&#x27;+suffix]) { // *.domain exists (e.g. *.kyoto.jp for domain=&#x27;kyoto.jp&#x27;);
    return null;
  }

  suffixLen = suffixLen || 1;
  if (parts.length &#x3e; suffixLen) {
    var publicSuffix = parts.slice(0,suffixLen+1).reverse().join(&#x27;.&#x27;);
    return converted ? punycode.toUnicode(publicSuffix) : publicSuffix;
  }

  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
&#x22;use strict&#x22;;
var pubsuffix = require(&#x27;./pubsuffix&#x27;);

// Gives the permutation of all possible domainMatch()es of a given domain. The
// array is in shortest-to-longest order.  Handy for indexing.
function permuteDomain (domain) {
var pubSuf = pubsuffix.<span class="apidocCodeKeywordSpan">getPublicSuffix</span>(domain);
if (!pubSuf) {
  return null;
}
if (pubSuf == domain) {
  return [domain];
}
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tough-cookie.store" id="apidoc.module.tough-cookie.store">module tough-cookie.store</a></h1>


    <h2>
        <a href="#apidoc.element.tough-cookie.store.Store" id="apidoc.element.tough-cookie.store.Store">
        function <span class="apidocSignatureSpan">tough-cookie.store.</span>Store
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Store() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
